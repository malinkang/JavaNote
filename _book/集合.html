<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>集合 | </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.5.0">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
        
    
    
    <link rel="next" href="./泛型.html" />
    
    
    <link rel="prev" href="./网络编程.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book" data-level="10" data-basepath="." data-revision="1455784862652">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="基础.html">
            
                
                    <a href="./基础.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         基础
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="控制流程.html">
            
                
                    <a href="./控制流程.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         控制流程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="数组.html">
            
                
                    <a href="./数组.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         数组
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="面向对象.html">
            
                
                    <a href="./面向对象.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         面向对象
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="枚举.html">
            
                
                    <a href="./枚举.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         枚举
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="字符串.html">
            
                
                    <a href="./字符串.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         字符串
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="多线程.html">
            
                
                    <a href="./多线程.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         多线程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="IO编程.html">
            
                
                    <a href="./IO编程.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         IO编程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="9" data-path="网络编程.html">
            
                
                    <a href="./网络编程.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                         网络编程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="10" data-path="集合.html">
            
                
                    <a href="./集合.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                         集合
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11" data-path="泛型.html">
            
                
                    <a href="./泛型.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                         泛型
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="12" data-path="反射.html">
            
                
                    <a href="./反射.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                         反射
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="13" data-path="注解.html">
            
                
                    <a href="./注解.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                         注解
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="14" data-path="时间和日期.html">
            
                
                    <a href="./时间和日期.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                         时间和日期
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="15" data-path="Java8/Java8.html">
            
                
                    <a href="./Java8/Java8.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                         Java8介绍
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" ></a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_440">
                    
                        <h2 id="collection">Collection</h2>
<h3 id="">目录</h3>
<ul>
<li><a href="#2.List">2.List</a><ul>
<li><a href="#2.1ArrayList">2.1ArrayList</a><ul>
<li><a href="#2.1.1构造方法">2.1.1构造方法</a></li>
<li><a href="#2.1.2添加元素">2.1.2添加元素</a></li>
<li><a href="#2.1.3获取">2.1.3获取</a></li>
<li><a href="#2.1.4删除">2.1.4删除</a></li>
<li><a href="#2.1.5其他常用方法">2.1.5其他常用方法</a></li>
</ul>
</li>
<li><a href="#2.2LinkedList">2.2LinkedList</a><ul>
<li><a href="#2.2.1构造函数">2.2.1构造函数</a></li>
<li><a href="#2.2.2添加">2.2.2添加</a></li>
<li><a href="#2.2.3删除">2.2.3删除</a></li>
<li><a href="#2.2.4获取">2.2.4获取</a></li>
</ul>
</li>
<li><a href="#2.3Vector">2.3Vector</a></li>
<li><a href="#2.4Stack">2.4Stack</a></li>
</ul>
</li>
<li><a href="#3.Set">3.Set</a><ul>
<li><a href="#3.1HashSet">3.1HashSet</a></li>
<li><a href="#3.2TreeSet">3.2TreeSet</a></li>
</ul>
</li>
<li><a href="#参考">参考</a></li>
</ul>
<hr>
<p>集合的整体框架</p>
<p><img src="collection.jpg" alt=""></p>
<h3 id="2.List">2.List</h3>

<p>List是一个继承于Collection的接口，即List是集合中的一种。List是有序的队列，List中的每一个元素都有一个索引；第一个元素的索引值是0，往后的元素的索引值依次+1。和Set不同，List中允许有重复的元素。</p>
<h4 id="2.1ArrayList">2.1ArrayList</h4>

<p>ArrayList实现List接口，底层使用数组保存所有的元素。其操作基本上是对数组的操作。</p>
<h5 id="2.1.1构造方法">2.1.1构造方法</h5>

<pre><code class="lang-java">   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayList</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;
    }

    <span class="hljs-comment">//创建指定容量的List</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayList</span><span class="hljs-params">(<span class="hljs-keyword">int</span> initialCapacity)</span> </span>{
        <span class="hljs-keyword">if</span> (initialCapacity &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.elementData = <span class="hljs-keyword">new</span> Object[initialCapacity];
        } <span class="hljs-function"><span class="hljs-keyword">else</span> <span class="hljs-title">if</span> <span class="hljs-params">(initialCapacity == <span class="hljs-number">0</span>)</span> </span>{
            <span class="hljs-keyword">this</span>.elementData = EMPTY_ELEMENTDATA;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException(<span class="hljs-string">"Illegal Capacity: "</span>+
                                               initialCapacity);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ArrayList</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>{
        elementData = c.toArray();
        <span class="hljs-keyword">if</span> ((size = elementData.length) != <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// c.toArray might (incorrectly) not return Object[] (see 6260652)</span>
            <span class="hljs-keyword">if</span> (elementData.getClass() != Object[].class)
                elementData = Arrays.copyOf(elementData, size, Object[].class);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// replace with empty array.</span>
            <span class="hljs-keyword">this</span>.elementData = EMPTY_ELEMENTDATA;
        }
    }
</code></pre>
<h5 id="2.1.2添加元素">2.1.2添加元素</h5>

<p>ArrayList提供了下列方法进行添加元素。</p>
<ul>
<li>public E set(int index, E element) </li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">//用指定的元素替代此列表中指定位置上的元素，并返回以前位于该位置上的元素。</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, E element)</span> </span>{
        rangeCheck(index);

        E oldValue = elementData(index);
        elementData[index] = element;
        <span class="hljs-keyword">return</span> oldValue;
    }

    <span class="hljs-function">E <span class="hljs-title">elementData</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
        <span class="hljs-keyword">return</span> (E) elementData[index];
    }
</code></pre>
<ul>
<li>public boolean add(E e)</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">//将指定的元素添加到此列表的末尾</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span><span class="hljs-params">(E e)</span> </span>{
        ensureCapacityInternal(size + <span class="hljs-number">1</span>);  <span class="hljs-comment">// Increments modCount!!</span>
        elementData[size++] = e;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
</code></pre>
<ul>
<li>public void add(int index, E element)</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">// 将指定的元素插入此列表中的指定位置。</span>
<span class="hljs-comment">// 如果当前位置有元素，则向右移动当前位于该位置的元素以及所有后续元素（将其索引加1）。</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, E element)</span> </span>{
    <span class="hljs-keyword">if</span> (index &gt; size || index &lt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IndexOutOfBoundsException(<span class="hljs-string">"Index: "</span>+index+<span class="hljs-string">", Size: "</span>+size);
    <span class="hljs-comment">// 如果数组长度不足，将进行扩容。</span>
    ensureCapacity(size+<span class="hljs-number">1</span>);  <span class="hljs-comment">// Increments modCount!!</span>
    <span class="hljs-comment">// 将 elementData中从Index位置开始、长度为size-index的元素，</span>
    <span class="hljs-comment">// 拷贝到从下标为index+1位置开始的新的elementData数组中。</span>
    <span class="hljs-comment">// 即将当前位于该位置的元素以及所有后续元素右移一个位置。</span>
    System.arraycopy(elementData, index, elementData, index + <span class="hljs-number">1</span>, size - index);
    elementData[index] = element;
    size++;
}
</code></pre>
<p>System提供的静态方法<code>arraycopy()</code>,我们可以使用它来实现数组之间的复制。</p>
<p>方法签名public static native void arraycopy(Object src,  int  srcPos,
                                        Object dest, int destPos,
                                        int length);</p>
<ul>
<li>src:源数组</li>
<li>srcPos:源数组要复制的起始位置</li>
<li>dest:目标数组</li>
<li>destPos:目标数组放置的起始位置，</li>
<li><p>length：复制的长度</p>
<pre><code class="lang-java">      <span class="hljs-keyword">int</span>[] array1={<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>};
      <span class="hljs-keyword">int</span> [] array2= {<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>};
      System.arraycopy(array1,<span class="hljs-number">0</span>,array2,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; array2.length; i++) {
          System.out.println(array2[i]);
      }
<span class="hljs-comment">//        5</span>
<span class="hljs-comment">//        1</span>
<span class="hljs-comment">//        2</span>
<span class="hljs-comment">//        2</span>
<span class="hljs-comment">//        1</span>
</code></pre>
<p>这个函数也可以实现自己到自己的复制。</p>
<pre><code class="lang-java">      <span class="hljs-keyword">int</span>[] array1={<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>};
      System.arraycopy(array1,<span class="hljs-number">0</span>,array1,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>);

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; array1.length; i++) {
          System.out.println(array1[i]);
      }
<span class="hljs-comment">//        1</span>
<span class="hljs-comment">//        2</span>
<span class="hljs-comment">//        3</span>
<span class="hljs-comment">//        1</span>
<span class="hljs-comment">//        2</span>
<span class="hljs-comment">//        3</span>
</code></pre>
</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">// 按照指定collection的迭代器所返回的元素顺序，将该collection中的所有元素添加到此列表的尾部。</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">addAll</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>{
    Object[] a = c.toArray();
    <span class="hljs-keyword">int</span> numNew = a.length;
    ensureCapacity(size + numNew);  <span class="hljs-comment">// Increments modCount</span>
    System.arraycopy(a, <span class="hljs-number">0</span>, elementData, size, numNew);
    size += numNew;
    <span class="hljs-keyword">return</span> numNew != <span class="hljs-number">0</span>;
}
</code></pre>
<h5 id="2.1.3获取">2.1.3获取</h5>

<pre><code class="lang-java"><span class="hljs-comment">// 返回此列表中指定位置上的元素。</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
    RangeCheck(index);

    <span class="hljs-keyword">return</span> (E) elementData[index];
}
</code></pre>
<h5 id="2.1.4删除">2.1.4删除</h5>

<p>ArrayList提供了根据下标或者指定对象两种方式的删除功能。</p>
<pre><code class="lang-java"><span class="hljs-comment">// 移除此列表中指定位置上的元素。返回删除的元素</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
    RangeCheck(index);

    modCount++;
    E oldValue = (E) elementData[index];

    <span class="hljs-keyword">int</span> numMoved = size - index - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (numMoved &gt; <span class="hljs-number">0</span>)
        System.arraycopy(elementData, index+<span class="hljs-number">1</span>, elementData, index, numMoved);
    elementData[--size] = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// Let gc do its work</span>

    <span class="hljs-keyword">return</span> oldValue;
}
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">// 移除此列表中首次出现的指定元素（如果存在）。这是应为ArrayList中允许存放重复的元素。</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object o)</span> </span>{
    <span class="hljs-comment">// 由于ArrayList中允许存放null，因此下面通过两种情况来分别处理。</span>
    <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>; index &lt; size; index++)
            <span class="hljs-keyword">if</span> (elementData[index] == <span class="hljs-keyword">null</span>) {
                <span class="hljs-comment">// 类似remove(int index)，移除列表中指定位置上的元素。</span>
                fastRemove(index);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            }
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> index = <span class="hljs-number">0</span>; index &lt; size; index++)
        <span class="hljs-keyword">if</span> (o.equals(elementData[index])) {
            fastRemove(index);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
}
</code></pre>
<h5 id="2.1.5其他常用方法">2.1.5其他常用方法</h5>

<ul>
<li>public int indexOf(Object o)<pre><code class="lang-java"><span class="hljs-comment">//返回指定元素第一次出现的索引，如果没有该元素返回-1</span>
 <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">indexOf</span><span class="hljs-params">(Object o)</span> </span>{
     <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) {
         <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++)
             <span class="hljs-keyword">if</span> (elementData[i]==<span class="hljs-keyword">null</span>)
                 <span class="hljs-keyword">return</span> i;
     } <span class="hljs-keyword">else</span> {
         <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++)
             <span class="hljs-keyword">if</span> (o.equals(elementData[i]))
                 <span class="hljs-keyword">return</span> i;
     }
     <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
 }
</code></pre>
</li>
<li>public int lastIndexOf(Object o)</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">//返回指定元素最后一次出现的索引，如果不存在该元素返回-1</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lastIndexOf</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = size-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)
                <span class="hljs-keyword">if</span> (elementData[i]==<span class="hljs-keyword">null</span>)
                    <span class="hljs-keyword">return</span> i;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = size-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)
                <span class="hljs-keyword">if</span> (o.equals(elementData[i]))
                    <span class="hljs-keyword">return</span> i;
        }
        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
    }
</code></pre>
<ul>
<li>public Object[] toArray()</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">//将ArrayList转换为数组</span>
    <span class="hljs-keyword">public</span> Object[] toArray() {
        <span class="hljs-keyword">return</span> Arrays.copyOf(elementData, size);
    }
</code></pre>
<ul>
<li><p>public <T> T[] toArray(T[] a) </p>
<pre><code class="lang-java">
  <span class="hljs-keyword">public</span> &lt;T&gt; T[] toArray(T[] a) {
      <span class="hljs-keyword">if</span> (a.length &lt; size)
      <span class="hljs-comment">//当数组长度小于集合长度创建一个新的数组，并且复制集合里的所有元素</span>
          <span class="hljs-comment">// Make a new array of a's runtime type, but my contents:</span>
          <span class="hljs-keyword">return</span> (T[]) Arrays.copyOf(elementData, size, a.getClass());
      <span class="hljs-comment">//当数组长度大于等于集合长度，将集合中的所有元素复制到集合里</span>
      System.arraycopy(elementData, <span class="hljs-number">0</span>, a, <span class="hljs-number">0</span>, size);
      <span class="hljs-keyword">if</span> (a.length &gt; size)
          a[size] = <span class="hljs-keyword">null</span>;
      <span class="hljs-keyword">return</span> a;
  }
</code></pre>
</li>
<li>public void clear()</li>
</ul>
<pre><code class="lang-java"><span class="hljs-comment">//清除所有元素</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span> </span>{
        modCount++;

        <span class="hljs-comment">// clear to let GC do its work</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++)
            elementData[i] = <span class="hljs-keyword">null</span>;

        size = <span class="hljs-number">0</span>;
    }
</code></pre>
<h5 id="2.1.6遍历">2.1.6遍历</h5>

<p>遍历可以通过for循环，foreach循环，Iterator和ListIterator四种方式进行遍历。</p>
<p>在foreach循环和iterator调用ArrayList的add和remove方法将会出现<code>ConcurrentModificationException</code>异常。所以要想遍历的时候修改集合，只能使用for循环，或者使用Iterator的remove方法。</p>
<h4 id="2.2LinkedList">2.2LinkedList</h4>

<p>LinkedList是基于<a href="https://zh.wikipedia.org/wiki/%E9%93%BE%E8%A1%A8" target="_blank">链表</a>的集合，其查询速度肯定比不上基于数组实现的集合。但是链表实现的最大优点在于，频繁的操作节点速度就比较快。</p>
<p>LinkedList内部有一个静态的内部类Node，代表节点。</p>
<pre><code class="lang-java">  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Node</span>&lt;<span class="hljs-title">E</span>&gt; </span>{
        E item;<span class="hljs-comment">//元素</span>
        Node&lt;E&gt; next;<span class="hljs-comment">//下一个节点</span>
        Node&lt;E&gt; prev;<span class="hljs-comment">//上一个节点</span>

        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {
            <span class="hljs-keyword">this</span>.item = element;
            <span class="hljs-keyword">this</span>.next = next;
            <span class="hljs-keyword">this</span>.prev = prev;
        }
    }
</code></pre>
<h5 id="2.2.1构造函数">2.2.1构造函数</h5>

<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedList</span><span class="hljs-params">()</span> </span>{
    }
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">LinkedList</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>{
        <span class="hljs-keyword">this</span>();
        addAll(c);
    }
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">addAll</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> </span>{
        <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">addAll</span><span class="hljs-params">(size, c)</span></span>;
    }
     <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">addAll</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, Collection&lt;? extends E&gt; c)</span> </span>{
        checkPositionIndex(index);

        Object[] a = c.toArray();
        <span class="hljs-keyword">int</span> numNew = a.length;
        <span class="hljs-keyword">if</span> (numNew == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;

        Node&lt;E&gt; pred, succ;
        <span class="hljs-keyword">if</span> (index == size) {
            succ = <span class="hljs-keyword">null</span>;
            pred = last;
        } <span class="hljs-keyword">else</span> {
            succ = node(index);
            pred = succ.prev;
        }

        <span class="hljs-keyword">for</span> (Object o : a) {
            <span class="hljs-annotation">@SuppressWarnings</span>(<span class="hljs-string">"unchecked"</span>) E e = (E) o;
            Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(pred, e, <span class="hljs-keyword">null</span>);
            <span class="hljs-keyword">if</span> (pred == <span class="hljs-keyword">null</span>)
                first = newNode;
            <span class="hljs-keyword">else</span>
                pred.next = newNode;
            pred = newNode;
        }

        <span class="hljs-keyword">if</span> (succ == <span class="hljs-keyword">null</span>) {
            last = pred;
        } <span class="hljs-keyword">else</span> {
            pred.next = succ;
            succ.prev = pred;
        }

        size += numNew;
        modCount++;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
</code></pre>
<h5 id="2.2.2添加">2.2.2添加</h5>


<pre><code class="lang-java"><span class="hljs-comment">//添加指定元素到末尾</span>
 <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">add</span><span class="hljs-params">(E e)</span> </span>{
        linkLast(e);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//在末尾添加节点</span>
   <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">linkLast</span><span class="hljs-params">(E e)</span> </span>{
        <span class="hljs-keyword">final</span> Node&lt;E&gt; l = last;
        <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(l, e, <span class="hljs-keyword">null</span>);
        last = newNode;
        <span class="hljs-keyword">if</span> (l == <span class="hljs-keyword">null</span>)
            first = newNode;
        <span class="hljs-keyword">else</span>
            l.next = newNode;
        size++;
        modCount++;
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//添加指定元素到指定位置</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index, E element)</span> </span>{
        checkPositionIndex(index);

        <span class="hljs-keyword">if</span> (index == size)
            linkLast(element);
        <span class="hljs-function"><span class="hljs-keyword">else</span>
            <span class="hljs-title">linkBefore</span><span class="hljs-params">(element, node(index)</span>)</span>;
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//根据索引返回节点</span>
<span class="hljs-function">Node&lt;E&gt; <span class="hljs-title">node</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
        <span class="hljs-comment">// assert isElementIndex(index);</span>

        <span class="hljs-keyword">if</span> (index &lt; (size &gt;&gt; <span class="hljs-number">1</span>)) {
            Node&lt;E&gt; x = first;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; index; i++)
                x = x.next;
            <span class="hljs-keyword">return</span> x;
        } <span class="hljs-keyword">else</span> {
            Node&lt;E&gt; x = last;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = size - <span class="hljs-number">1</span>; i &gt; index; i--)
                x = x.prev;
            <span class="hljs-keyword">return</span> x;
        }
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//指定节点前插入元素</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">linkBefore</span><span class="hljs-params">(E e, Node&lt;E&gt; succ)</span> </span>{
        <span class="hljs-comment">// assert succ != null;</span>
        <span class="hljs-keyword">final</span> Node&lt;E&gt; pred = succ.prev;
        <span class="hljs-keyword">final</span> Node&lt;E&gt; newNode = <span class="hljs-keyword">new</span> Node&lt;&gt;(pred, e, succ);
        succ.prev = newNode;
        <span class="hljs-keyword">if</span> (pred == <span class="hljs-keyword">null</span>)
            first = newNode;
        <span class="hljs-keyword">else</span>
            pred.next = newNode;
        size++;
        modCount++;
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//在开始位置插入指定元素</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addFirst</span><span class="hljs-params">(E e)</span> </span>{
        linkFirst(e);
    }
</code></pre>
<pre><code class="lang-java"><span class="hljs-comment">//在末尾插入指定元素</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addLast</span><span class="hljs-params">(E e)</span> </span>{
        linkLast(e);
    }
</code></pre>
<h5 id="2.2.3删除">2.2.3删除</h5>


<ul>
<li>public E remove()：删除第一个元素</li>
</ul>
<pre><code class="lang-java">   <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">removeFirst</span><span class="hljs-params">()</span></span>;
    }
</code></pre>
<ul>
<li>public E remove(int index)：删除指定位置的元素</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
        checkElementIndex(index);
        <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">unlink</span><span class="hljs-params">(node(index)</span>)</span>;
    }
</code></pre>
<ul>
<li>public E remove(int index)：删除指定位置的元素</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> E <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> index)</span> </span>{
        checkElementIndex(index);
        <span class="hljs-function"><span class="hljs-keyword">return</span> <span class="hljs-title">unlink</span><span class="hljs-params">(node(index)</span>)</span>;
    }
</code></pre>
<ul>
<li>public boolean remove(Object o)：删除指定元素首次出现的该元素</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) {
                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>) {
                    unlink(x);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) {
                <span class="hljs-keyword">if</span> (o.equals(x.item)) {
                    unlink(x);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
</code></pre>
<ul>
<li>public boolean remove(Object o)：删除指定元素首次出现的该元素</li>
</ul>
<pre><code class="lang-java">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">remove</span><span class="hljs-params">(Object o)</span> </span>{
        <span class="hljs-keyword">if</span> (o == <span class="hljs-keyword">null</span>) {
            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) {
                <span class="hljs-keyword">if</span> (x.item == <span class="hljs-keyword">null</span>) {
                    unlink(x);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="hljs-keyword">null</span>; x = x.next) {
                <span class="hljs-keyword">if</span> (o.equals(x.item)) {
                    unlink(x);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
    }
</code></pre>
<ul>
<li>public E removeFirst() ：删除第一个</li>
<li>public E removeLast()：删除最后一个</li>
<li>public E poll()：删除第一个</li>
<li>public E pollFirst() ：删除第一个</li>
<li>public E pollLast()：删除第一个</li>
</ul>
<h5 id="2.2.4获取">2.2.4获取</h5>

<ul>
<li>public E get(int index)：根据索引获取</li>
<li>public E getLast()：获取最后一个</li>
<li>public E getFirst()：获取第一个</li>
<li>public E peek()：获取第一个</li>
<li>public E peekFirst() ：获取第一个</li>
<li>public E peekLast()：获取最后一个</li>
</ul>
<h4 id="2.3Vector">2.3Vector</h4>

<p><code>Vector</code>也是基于数组实现的队列，代码和ArrayList非常相似，只不过Vector是线程同步，其执行的效率相比ArrayList就低了。</p>
<h4 id="2.4Stack">2.4Stack</h4>

<p><code>Stack</code>是栈。它的特性是：先进后出(FILO, First In Last Out)。Stack是继承于Vector(矢量队列)的，由于Vector是通过数组实现的，这就意味着，Stack也是通过数组实现的。</p>
<h3 id="3.Set">3.Set</h3>

<p>Set是一个继承于Collection的接口，即Set也是集合中的一种。Set是没有重复元素的集合。</p>
<h4 id="3.1HashSet">3.1HashSet</h4>

<p>HashSet依赖于HashMap,它实际上是通过HashMap实现的。HashSet中的元素是无序的。</p>
<h4 id="3.2TreeSet">3.2TreeSet</h4>

<p>TreeSet依赖于TreeMap，它实际上是通过TreeMap实现的。TreeSet中的元素是有序的。</p>
<h3 id="参考">参考</h3>

<ul>
<li><a href="http://zhangshixi.iteye.com/blog/674856" target="_blank">深入Java集合学习系列：ArrayList的实现原理</a></li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./网络编程.html" class="navigation navigation-prev " aria-label="Previous page: 网络编程"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./泛型.html" class="navigation navigation-next " aria-label="Next page: 泛型"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
